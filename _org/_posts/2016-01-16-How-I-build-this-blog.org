#+BEGIN_HTML
---
title: How I build this blog.
excerpt: Build blog on github page, using jekyll and emacs org mode,
featured: /assets/images/pic00.jpg
categories:
    - tech
tags:
    - org-mode
    - jekyll
layout: post
---
#+END_HTML
#+STARTUP: showall
#+STARTUP: hidestars
** Summary

   In ths blog I will show how I build this blog step by step, also the problems I encountered during this process. Hope it will be helpfull to those who want to do the same thing.

   I heard about github blog page and jekyll suport, as I already use org-mod with emacs, I chose this solution. Hope I can have a good experience in writing.

** System and Tools
      I use github.com as my blog host.
      + Operating System : ubuntu 15.04
      + Tools : emacs, org-mod, jekyll(depends on ruby), github.
      + Reference : [[http://orgmode.org/worg/org-tutorials/org-jekyll.html][org-jekyll-tutorials]], and template from [[https://github.com/jekyllbootstrap/theme-mark-reid][Mark-Reid]].
** Step by Step
   1. Setup github reponsity
   2. Install jekyll and configuration.
   3. Setup org publish configuration.
   4. Chose template. and adjust the theme.
   5. Write and enjoy.

** Work Flow

   1. I only mantain _posts folder, and .org post files. Here is my dictionary tree. And this folder have all my post, as cjq.io folder structure can be automate generated by rake command,  and we can change the theme within one rake command too. So I mantain two folder, _org, and cjq.io.  Everything about my writing is in cjq.io folder. I make a symbol link. Jekyll will ignore folders start with underscore(except certain name, such as _posts), so the _org folder is safe here, will not be posted twice. To generate cjq.io strcture, use this command.
      #+BEGIN_SRC sh
      jekyll new cjq.io
      tree ~/dld/test-blog
      rake theme:install git="git://github.com/jekyllbootstrap/theme-mark-reid.git"
      #+END_SRC
      #+BEGIN_SRC  sh
      tree ~/pro/n-txt/blog/cjq.io/_org
      #+END_SRC
      #+BEGIN_SRC
      | /cjq.io/_org
      | ├──   _drafts
      | │          └──    drafts.org
      | ├──   init-org-jekyll.el
      | └──   _posts
      |                ├──  | 2014-12-15-About.org
      |                └── | 2016-01-16-how.org
      #+END_SRC
      Here, I have a folder _drafts, which will not be ignored by jekyll, and I can put my drafts here. When I get it done, I can move it to _org/_posts folder, and publish it.
      Another file is init-org-jekyll.el, which control the options of org-publish. It is the same to put the contents in my .emacs file, but here I just put it together with my blog, and put a refer in my .emacs file, like this:
      #+BEGIN_SRC -emacs-lisp
      (load-file "~/pro/n-txt/blog/cjq.io/_org/init-org-jekyll.el")
      #+END_SRC

   2. use command org-publish in emacs, and chose post method cjq.io

   3. start jekyll server, with command
      #+BEGIN_SRC sh
      jekyll server --watch
      #+END_SRC
      The current work directory should be the root of the site. Otherwise, jekyll will complain about folders not find.
      Now it should be some thing like this:
      #+BEGIN_HTML
      <img src="{{ site.url }}/assets/images/pic-jw.png" alt="The jekyll building."/>
      #+END_HTML
      The command is a little different in this jekyll version.
      The --watch parameter is to tell jekyll once there is any change in the project, apply it to the _site. With this option,
      you can see the change in brower immediatly, without restart the server. But it seems the changes in _config.yaml need restart.

   4. Use images, code lines and bold text
      I put this lines in my org file, and put pic-jw.png in the _org/assets/images/ folder.
      #+BEGIN_SRC
      #+BEGIN_HTML
      <img src="{{ site.url }}/assets/images/pic-jw.png" alt="The jekyll building."/>
      #+END_HTML
      #+END_SRC
      The result is last picture.

      Ref to [[http://codingtips.kanishkkunal.in/image-caption-jekyll/][this]] about using include and images.
      The code lines can be surounded by '#+BEGIN_SRC' and '#+END_SRC' tags.
      You can just put something like this in org file,
      #+BEGIN_SRC
      **This is bold letters.**
      #+END_SRC
      The result is bold text like this:
      **This is bold letters.**


** ToDo items

   1. GTD with ORG
   2. Checkout to use org-md-export-to-markdown method.
   3. How to add up a picture? with right href. No working right now.
   4. I will change the main menu option of this blog.
   5. I will add a side bar, and see how is the effect.
   6. My org mod do not do it right with org-tables, maybe because my emacs theme.
   7. Tweat my own index.html pages.
   8. Change the color theme, use grey in the code areo.
   9. More blogs, on resume, poem, game and book sharing, and some other things.
   10. And I will TRANSLATE the learning english in six mouth and reorganise it in my post.
   13. Move name and date to the begining of the post.
   14. Add a button to move to the topest position.
   15. Add some robot proticol. And Python server scripts. Learn from others's examples.

** My repo link

   https://github.com/chenjinqian/chenjinqian.github.io
